<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire d'Enregistrement</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f5f5f5;
            padding: 20px;
        }
        .form-container {
            background: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }
        .logo {
            width: 200px;
            height: auto;
            margin-bottom: 20px;
        }
        h2 {
            margin-bottom: 20px;
            color: #333;
        }
        .form-group {
            margin-bottom: 25px; /* Augmenté pour l'espacement des messages d'erreur */
            position: relative;
        }
        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border-color 0.3s, box-shadow 0.3s;
            height: 45px;
            background-color: #fff;
            color: #333;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
        select {
            padding-right: 30px; /* Espace pour la flèche */
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23333' viewBox='0 0 16 16'%3E%3Cpath d='M8 11l-6-6h12l-6 6z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 10px center;
        }
        input:focus, select:focus {
            border-color: #007bff;
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }
        input:invalid {
            border-color: #f8edee;
        }
        .error-message {
            color: #dc3545;
            font-size: 14px;
            margin-top: 5px;
            display: none;
            position: absolute;
            bottom: -20px;
            left: 0;
        }
        button {
            width: 100%;
            padding: 12px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s, transform 0.1s;
            height: 45px;
            position: relative;
        }
        button:hover {
            background: #0056b3;
        }
        button:active {
            transform: scale(0.98);
        }
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
        .success-message {
            color: #28a745;
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            background: #d4edda;
        }
        .spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 3px solid #ffffff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
        }
        @keyframes spin {
            to {
                transform: translateY(-50%) rotate(360deg);
            }
        }
        button.loading {
            padding-right: 40px;
        }
        button.loading .spinner {
            display: block;
        }
        
        /* Styles pour les checkboxes */
        .checkbox-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
            max-height: 200px;
            overflow-y: auto;
            border: 2px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            background-color: #f9f9f9;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 8px;
            border-radius: 5px;
            transition: background-color 0.3s;
            position: relative;
        }
        
        .checkbox-item:hover {
            background-color: #e3f2fd;
        }
        
        .checkbox-item input[type="checkbox"] {
            display: none;
        }
        
        .checkmark {
            width: 20px;
            height: 20px;
            border: 2px solid #007bff;
            border-radius: 3px;
            margin-right: 10px;
            position: relative;
            transition: all 0.3s;
            flex-shrink: 0;
        }
        
        .checkbox-item input[type="checkbox"]:checked + .checkmark {
            background-color: #007bff;
            border-color: #007bff;
        }
        
        .checkbox-item input[type="checkbox"]:checked + .checkmark::after {
            content: "✓";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            font-size: 14px;
        }
        
        .checkbox-item input[type="checkbox"]:focus + .checkmark {
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }
        
        .checkbox-item label {
            cursor: pointer;
            font-size: 14px;
            color: #333;
            margin: 0;
        }
    </style>
</head>

<body>
    <div class="form-container">
        <img src="JADAR.jpeg" alt="JADAR Akouedo Rehoboth" class="logo">
        <h2>Formulaire d'Enregistrement</h2>
        <form id="form">
            <div class="form-group">
                <input type="text" id="nom" placeholder="Nom" required>
            </div>
            <div class="form-group">
                <input type="text" id="prenom" placeholder="Prénom" required>
            </div>
            <div class="form-group">
                <input type="tel" id="contact1" placeholder="+225 Contact 1" required pattern="^\+225[0-9]{10}$">
                <span class="error-message" id="contact1-error">Le numéro doit commencer par +225 suivi de 10 chiffres</span>
            </div>
            <div class="form-group">
                <input type="tel" id="contact2" placeholder="+225 Contact 2 (WhatsApp)" pattern="^\+225[0-9]{10}$">
                <span class="error-message" id="contact2-error">Le numéro doit commencer par +225 suivi de 10 chiffres</span>
            </div>
             <div class="form-group">
                <input type="text" id="jour_mois_naiss" placeholder="jour et mois de naissance">
            </div>
            <div class="form-group">
                <select id="famille_jeun">
                    <option value="">Famille de Jeunesse</option>
                    <option>Elishama</option>
                    <option>Nérija</option>
                    <option> El olam</option>
                    <option>Paul</option>
                    <option>Aucune</option>
                </select>
            </div>
            <div class="form-group">
                <input type="text" id="quartier" placeholder="Quartier">
            </div>
            <div class="form-group">
                <select id="situ_mat">
                    <option value="">Sélectionnez votre situation</option>
                    <option>Célibataire</option>
                    <option>Marié(e)</option>
                    <option>Concubinage</option>
                    <option>Veuf(ve)</option>
                    <option>Fiancé(e)</option>
                </select>
            </div>
            <div class="form-group">
                <select id="situ_spirit">
                    <option value="">Sélectionnez votre spirituel</option>
                    <option>Baptisé d'eau</option>
                    <option>Baptisé du Saint-Esprit</option>
                    <option>Baptisé d'eau et du Saint-Esprit</option>
                    <option>Pas baptisé </option>
                </select>
            </div>
            <div class="form-group">
                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #333;">
                    Sélectionnez vos départements (plusieurs choix possibles)
                </label>
                <div class="checkbox-container">
                    <label class="checkbox-item">
                        <input type="checkbox" name="departement" value="Groupe de Louange et d'Adoration">
                        <span class="checkmark"></span>
                        Groupe de Louange et d'Adoration
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="departement" value="Chorale">
                        <span class="checkmark"></span>
                        Chorale
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="departement" value="Protocole">
                        <span class="checkmark"></span>
                        Protocole
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="departement" value="GEEAD">
                        <span class="checkmark"></span>
                        GEEAD
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="departement" value="Bureau de la JADAR">
                        <span class="checkmark"></span>
                        Bureau de la JADAR
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="departement" value="MIFA">
                        <span class="checkmark"></span>
                        MIFA
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="departement" value="AMADCI">
                        <span class="checkmark"></span>
                        AMADCI
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="departement" value="AOC">
                        <span class="checkmark"></span>
                        AOC
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="departement" value="Communication">
                        <span class="checkmark"></span>
                        Communication
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="departement" value="ECODIM">
                        <span class="checkmark"></span>
                        ECODIM
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="departement" value="Intercession">
                        <span class="checkmark"></span>
                        Intercession
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="departement" value="Evangelisation">
                        <span class="checkmark"></span>
                        Evangelisation
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="departement" value="Aucun">
                        <span class="checkmark"></span>
                        Aucun
                    </label>
                </div>
                <div id="departement-summary" style="display: none; margin-top: 10px; padding: 8px; background-color: #e8f5e8; border-radius: 5px; font-size: 14px; color: #2e7d32;"></div>
            </div>
            <div class="form-group">
                <select id="profession">
                    <option value="">Sélectionnez votre profession</option>
                    
                    <!-- Administration, Droit & Fonction publique -->
                    <optgroup label="🏛️ Administration, Droit & Fonction publique">
                        <option>Préfet</option>
                        <option>Inspecteur</option>
                        <option>Secrétaire administratif</option>
                        <option>Attaché d'administration</option>
                        <option>Contrôleur des impôts</option>
                        <option>Douanier</option>
                        <option>Policier</option>
                        <option>Gendarme</option>
                        <option>Militaire</option>
                        <option>Agent municipal</option>
                        <option>Archiviste</option>
                        <option>Avocat</option>
                        <option>Juge</option>
                        <option>Greffier</option>
                        <option>Huissier</option>
                        <option>Notaire</option>
                        <option>Juriste</option>
                        <option>Assistant juridique</option>
                        <option>Médiateur</option>
                        <option>Conseiller juridique</option>
                        <option>Magistrat</option>
                        <option>Officier de police</option>
                        <option>Sapeur-pompier</option>
                        <option>Agent de sécurité</option>
                        <option>Surveillant pénitentiaire</option>
                    </optgroup>
                    
                    <!-- Commerce, Vente & Distribution -->
                    <optgroup label="💼 Commerce, Vente & Distribution">
                        <option>Commercial</option>
                        <option>Représentant</option>
                        <option>Chef de produit</option>
                        <option>Responsable marketing</option>
                        <option>Responsable commercial</option>
                        <option>Acheteur</option>
                        <option>Négociant</option>
                        <option>Vendeur</option>
                        <option>Caissier</option>
                        <option>Télévendeur</option>
                        <option>Conseiller clientèle</option>
                        <option>Responsable de magasin</option>
                        <option>Chef des ventes</option>
                        <option>Chef de rayon</option>
                        <option>Directeur de supermarché</option>
                        <option>Logisticien</option>
                        <option>Préparateur de commandes</option>
                        <option>Magasinier</option>
                    </optgroup>
                    
                    <!-- Finance, Comptabilité & Assurance -->
                    <optgroup label="📈 Finance, Comptabilité & Assurance">
                        <option>Analyste financier</option>
                        <option>Contrôleur de gestion</option>
                        <option>Trésorier</option>
                        <option>Banquier</option>
                        <option>Gestionnaire de portefeuille</option>
                        <option>Trader</option>
                        <option>Analyste crédit</option>
                        <option>Comptable</option>
                        <option>Expert-comptable</option>
                        <option>Auditeur</option>
                        <option>Fiscaliste</option>
                        <option>Assistant comptable</option>
                        <option>Courtier</option>
                        <option>Agent d'assurance</option>
                        <option>Actuaire</option>
                        <option>Gestionnaire sinistre</option>
                        <option>Inspecteur commercial</option>
                        <option>Conseiller en assurance</option>
                    </optgroup>
                    
                    <!-- Bâtiment, Travaux publics & Immobilier -->
                    <optgroup label="🏗️ Bâtiment, Travaux publics & Immobilier">
                        <option>Ingénieur civil</option>
                        <option>Conducteur de travaux</option>
                        <option>Chef de chantier</option>
                        <option>Maçon</option>
                        <option>Charpentier</option>
                        <option>Plombier</option>
                        <option>Électricien</option>
                        <option>Peintre</option>
                        <option>Couvreur</option>
                        <option>Architecte</option>
                        <option>Urbaniste</option>
                        <option>Dessinateur-projeteur</option>
                        <option>Géomètre-topographe</option>
                        <option>Agent immobilier</option>
                        <option>Promoteur</option>
                        <option>Gestionnaire de patrimoine</option>
                        <option>Diagnostiqueur immobilier</option>
                        <option>Syndic de copropriété</option>
                    </optgroup>
                    
                    <!-- Informatique, Numérique & Télécommunications -->
                    <optgroup label="💻 Informatique, Numérique & Télécommunications">
                        <option>Développeur web/mobile</option>
                        <option>Ingénieur système</option>
                        <option>Administrateur réseau</option>
                        <option>Technicien support</option>
                        <option>Analyste cybersécurité</option>
                        <option>Data scientist</option>
                        <option>Data analyst</option>
                        <option>Ingénieur IA</option>
                        <option>Architecte Big Data</option>
                        <option>Technicien télécom</option>
                        <option>Ingénieur réseau</option>
                        <option>Installateur fibre optique</option>
                        <option>Chef de projet télécom</option>
                        <option>Web designer</option>
                        <option>Community manager</option>
                        <option>UX/UI designer</option>
                        <option>Référenceur (SEO)</option>
                        <option>Rédacteur web</option>
                    </optgroup>
                    
                    <!-- Sciences, Recherche & Environnement -->
                    <optgroup label="🧪 Sciences, Recherche & Environnement">
                        <option>Chercheur</option>
                        <option>Laborantin</option>
                        <option>Biologiste</option>
                        <option>Physicien</option>
                        <option>Chimiste</option>
                        <option>Statisticien</option>
                        <option>Écologue</option>
                        <option>Ingénieur en environnement</option>
                        <option>Technicien de l'eau</option>
                        <option>Gestionnaire de déchets</option>
                        <option>Auditeur environnemental</option>
                        <option>Spécialiste énergie renouvelable</option>
                        <option>Météorologue</option>
                        <option>Ingénieur agronome</option>
                        <option>Agriculteur</option>
                        <option>Technicien agricole</option>
                        <option>Conseiller agricole</option>
                    </optgroup>
                    
                    <!-- Santé & Social -->
                    <optgroup label="🏥 Santé & Social">
                        <option>Médecin</option>
                        <option>Chirurgien</option>
                        <option>Infirmier</option>
                        <option>Pharmacien</option>
                        <option>Kinésithérapeute</option>
                        <option>Sage-femme</option>
                        <option>Dentiste</option>
                        <option>Radiologue</option>
                        <option>Aide-soignant</option>
                        <option>Technicien biomédical</option>
                        <option>Assistant social</option>
                        <option>Éducateur spécialisé</option>
                        <option>Psychologue</option>
                        <option>Thérapeute</option>
                        <option>Conseiller d'insertion</option>
                        <option>Auxiliaire de vie</option>
                        <option>Coach de vie</option>
                        <option>Naturopathe</option>
                        <option>Diététicien</option>
                        <option>Esthéticien</option>
                        <option>Spa manager</option>
                    </optgroup>
                    
                    <!-- Éducation, Formation & Culture -->
                    <optgroup label="🧑‍🏫 Éducation, Formation & Culture">
                        <option>Professeur</option>
                        <option>Enseignant-chercheur</option>
                        <option>Formateur</option>
                        <option>Surveillant</option>
                        <option>Conseiller d'éducation</option>
                        <option>Inspecteur pédagogique</option>
                        <option>Artiste</option>
                        <option>Peintre</option>
                        <option>Sculpteur</option>
                        <option>Danseur</option>
                        <option>Musicien</option>
                        <option>Conservateur</option>
                        <option>Restaurateur d'art</option>
                        <option>Traducteur</option>
                        <option>Interprète</option>
                        <option>Linguiste</option>
                        <option>Rédacteur</option>
                        <option>Correcteur</option>
                    </optgroup>
                    
                    <!-- Communication, Médias & Publicité -->
                    <optgroup label="🎬 Communication, Médias & Publicité">
                        <option>Chargé de communication</option>
                        <option>Responsable RP</option>
                        <option>Attaché de presse</option>
                        <option>Spécialiste événementiel</option>
                        <option>Journaliste</option>
                        <option>Reporter</option>
                        <option>Animateur</option>
                        <option>Rédacteur en chef</option>
                        <option>Cameraman</option>
                        <option>Monteur vidéo</option>
                        <option>Directeur artistique</option>
                        <option>Concepteur-rédacteur</option>
                        <option>Graphiste</option>
                        <option>Brand manager</option>
                        <option>Média planner</option>
                        <option>Influence manager</option>
                    </optgroup>
                    
                    <!-- Tourisme, Hôtellerie & Restauration -->
                    <optgroup label="✈️ Tourisme, Hôtellerie & Restauration">
                        <option>Guide touristique</option>
                        <option>Agent de voyage</option>
                        <option>Responsable d'agence</option>
                        <option>Animateur touristique</option>
                        <option>Réceptionniste</option>
                        <option>Gouvernant</option>
                        <option>Directeur d'hôtel</option>
                        <option>Concierge</option>
                        <option>Chef de réception</option>
                        <option>Chef cuisinier</option>
                        <option>Serveur</option>
                        <option>Pâtissier</option>
                        <option>Barman</option>
                        <option>Traiteur</option>
                        <option>Maître d'hôtel</option>
                    </optgroup>
                    
                    <!-- Transport, Logistique & Automobile -->
                    <optgroup label="🚗 Transport, Logistique & Automobile">
                        <option>Chauffeur</option>
                        <option>Pilote</option>
                        <option>Conducteur de bus</option>
                        <option>Marin</option>
                        <option>Mécanicien aéronautique</option>
                        <option>Gestionnaire stock</option>
                        <option>Responsable entrepôt</option>
                        <option>Affréteur</option>
                        <option>Planificateur logistique</option>
                        <option>Mécanicien</option>
                        <option>Carrossier</option>
                        <option>Électricien auto</option>
                        <option>Technicien diagnostic</option>
                        <option>Vendeur auto</option>
                    </optgroup>
                    
                    <!-- Mode, Beauté & Luxe -->
                    <optgroup label="👗 Mode, Beauté & Luxe">
                        <option>Styliste</option>
                        <option>Modéliste</option>
                        <option>Couturier</option>
                        <option>Mannequin</option>
                        <option>Acheteur mode</option>
                        <option>Maquilleur</option>
                        <option>Coiffeur</option>
                        <option>Barbière</option>
                        <option>Prothésiste ongulaire</option>
                        <option>Joaillier</option>
                        <option>Horloger</option>
                        <option>Gestionnaire boutique de luxe</option>
                        <option>Personal shopper</option>
                    </optgroup>
                    
                    <!-- Industrie & Énergie -->
                    <optgroup label="⚙️ Industrie & Énergie">
                        <option>Ingénieur industriel</option>
                        <option>Technicien maintenance</option>
                        <option>Soudeur</option>
                        <option>Opérateur machine</option>
                        <option>Chef d'atelier</option>
                        <option>Ingénieur électricité</option>
                        <option>Technicien solaire</option>
                        <option>Ingénieur pétrolier</option>
                        <option>Spécialiste énergies renouvelables</option>
                        <option>Électricien industriel</option>
                        <option>Responsable qualité</option>
                        <option>Responsable production</option>
                        <option>Logisticien industriel</option>
                    </optgroup>
                    
                    <!-- Agriculture, Pêche & Agroalimentaire -->
                    <optgroup label="🌾 Agriculture, Pêche & Agroalimentaire">
                        <option>Agriculteur</option>
                        <option>Exploitant</option>
                        <option>Technicien agricole</option>
                        <option>Conducteur d'engins</option>
                        <option>Éleveur</option>
                        <option>Marin pêcheur</option>
                        <option>Aquaculteur</option>
                        <option>Technicien halieutique</option>
                        <option>Technicien agro</option>
                        <option>Responsable production</option>
                        <option>Contrôleur qualité</option>
                        <option>Ingénieur R&D alimentaire</option>
                    </optgroup>
                    
                    <!-- Sport, Loisirs & Animation -->
                    <optgroup label="🎭 Sport, Loisirs & Animation">
                        <option>Entraîneur</option>
                        <option>Coach sportif</option>
                        <option>Préparateur physique</option>
                        <option>Kiné du sport</option>
                        <option>Arbitre</option>
                        <option>Gestionnaire de club</option>
                        <option>Animateur</option>
                        <option>Organisateur d'événements</option>
                        <option>Responsable parc de loisirs</option>
                        <option>Moniteur</option>
                        <option>Comédien</option>
                        <option>Réalisateur</option>
                        <option>Scénariste</option>
                        <option>Producteur</option>
                        <option>DJ</option>
                        <option>Photographe</option>
                    </optgroup>
                    
                    <!-- Technologie, Innovation & Ingénierie -->
                    <optgroup label="🧠 Technologie, Innovation & Ingénierie">
                        <option>Ingénieur mécanique</option>
                        <option>Ingénieur électronique</option>
                        <option>Ingénieur chimique</option>
                        <option>Ingénieur informatique</option>
                        <option>Ingénieur génie civil</option>
                        <option>Ingénieur aéronautique</option>
                        <option>Chef de projet innovation</option>
                        <option>Analyste technique</option>
                        <option>Inventeur</option>
                        <option>Spécialiste robotique</option>
                        <option>Ingénieur matériaux</option>
                    </optgroup>
                    
                    <!-- Humanitaire, ONG & Développement durable -->
                    <optgroup label="🌍 Humanitaire, ONG & Développement durable">
                        <option>Coordinateur de mission</option>
                        <option>Logisticien</option>
                        <option>Médecin humanitaire</option>
                        <option>Responsable projet terrain</option>
                        <option>Consultant RSE</option>
                        <option>Responsable développement durable</option>
                        <option>Expert climat</option>
                        <option>Chargé d'impact social</option>
                        <option>Chargé de mission</option>
                        <option>Diplomate</option>
                        <option>Conseiller coopération</option>
                        <option>Analyste politique internationale</option>
                    </optgroup>
                    
                    <!-- Autres -->
                    <optgroup label="🔧 Autres">
                        <option>Étudiant</option>
                        <option>Chômeur</option>
                        <option>Retraité</option>
                        <option>Autre</option>
                    </optgroup>
                </select>
            </div>
            <div class="form-group">
                <select id="secteur">
                    <option value="">Sélectionnez un secteur d'activité</option>
                    
                    <!-- Administration, Droit & Fonction publique -->
                    <optgroup label="🏛️ Administration, Droit & Fonction publique">
                        <option>Administration publique</option>
                        <option>Droit & Justice</option>
                        <option>Sécurité publique</option>
                        <option>Fonction publique</option>
                    </optgroup>
                    
                    <!-- Commerce, Vente & Distribution -->
                    <optgroup label="💼 Commerce, Vente & Distribution">
                        <option>Commerce de détail</option>
                        <option>Commerce de gros</option>
                        <option>E-commerce</option>
                        <option>Distribution</option>
                        <option>Logistique commerciale</option>
                    </optgroup>
                    
                    <!-- Finance, Comptabilité & Assurance -->
                    <optgroup label="📈 Finance, Comptabilité & Assurance">
                        <option>Banque</option>
                        <option>Assurance</option>
                        <option>Comptabilité</option>
                        <option>Finance</option>
                        <option>Investissement</option>
                    </optgroup>
                    
                    <!-- Bâtiment, Travaux publics & Immobilier -->
                    <optgroup label="🏗️ Bâtiment, Travaux publics & Immobilier">
                        <option>BTP</option>
                        <option>Architecture</option>
                        <option>Immobilier</option>
                        <option>Travaux publics</option>
                        <option>Construction</option>
                    </optgroup>
                    
                    <!-- Informatique, Numérique & Télécommunications -->
                    <optgroup label="💻 Informatique, Numérique & Télécommunications">
                        <option>Informatique</option>
                        <option>Développement logiciel</option>
                        <option>Télécommunications</option>
                        <option>Cybersécurité</option>
                        <option>Intelligence artificielle</option>
                        <option>Big Data</option>
                    </optgroup>
                    
                    <!-- Sciences, Recherche & Environnement -->
                    <optgroup label="🧪 Sciences, Recherche & Environnement">
                        <option>Recherche scientifique</option>
                        <option>Environnement</option>
                        <option>Énergies renouvelables</option>
                        <option>Développement durable</option>
                        <option>Agronomie</option>
                    </optgroup>
                    
                    <!-- Santé & Social -->
                    <optgroup label="🏥 Santé & Social">
                        <option>Santé</option>
                        <option>Médecine</option>
                        <option>Pharmacie</option>
                        <option>Social</option>
                        <option>Bien-être</option>
                        <option>Activités vétérinaires</option>
                    </optgroup>
                    
                    <!-- Éducation, Formation & Culture -->
                    <optgroup label="🧑‍🏫 Éducation, Formation & Culture">
                        <option>Éducation</option>
                        <option>Formation</option>
                        <option>Culture</option>
                        <option>Arts</option>
                        <option>Langues</option>
                    </optgroup>
                    
                    <!-- Communication, Médias & Publicité -->
                    <optgroup label="🎬 Communication, Médias & Publicité">
                        <option>Communication</option>
                        <option>Médias</option>
                        <option>Journalisme</option>
                        <option>Publicité</option>
                        <option>Marketing digital</option>
                        <option>Événementiel</option>
                    </optgroup>
                    
                    <!-- Tourisme, Hôtellerie & Restauration -->
                    <optgroup label="✈️ Tourisme, Hôtellerie & Restauration">
                        <option>Tourisme</option>
                        <option>Hôtellerie</option>
                        <option>Restauration</option>
                        <option>Agences de voyages</option>
                    </optgroup>
                    
                    <!-- Transport, Logistique & Automobile -->
                    <optgroup label="🚗 Transport, Logistique & Automobile">
                        <option>Transport</option>
                        <option>Logistique</option>
                        <option>Automobile</option>
                        <option>Aéronautique</option>
                        <option>Naval</option>
                        <option>Maritime</option>
                    </optgroup>
                    
                    <!-- Mode, Beauté & Luxe -->
                    <optgroup label="👗 Mode, Beauté & Luxe">
                        <option>Mode</option>
                        <option>Beauté</option>
                        <option>Luxe</option>
                        <option>Bijouterie</option>
                        <option>Horlogerie</option>
                    </optgroup>
                    
                    <!-- Industrie & Énergie -->
                    <optgroup label="⚙️ Industrie & Énergie">
                        <option>Industrie</option>
                        <option>Énergie</option>
                        <option>Production</option>
                        <option>Métallurgie</option>
                        <option>Électronique</option>
                        <option>Chimie</option>
                        <option>Pharmacie</option>
                        <option>Industrie manufacturière</option>
                        <option>Industrie agroalimentaire</option>
                    </optgroup>
                    
                    <!-- Agriculture, Pêche & Agroalimentaire -->
                    <optgroup label="🌾 Agriculture, Pêche & Agroalimentaire">
                        <option>Agriculture</option>
                        <option>Pêche</option>
                        <option>Agroalimentaire</option>
                        <option>Élevage</option>
                    </optgroup>
                    
                    <!-- Sport, Loisirs & Animation -->
                    <optgroup label="🎭 Sport, Loisirs & Animation">
                        <option>Sport</option>
                        <option>Loisirs</option>
                        <option>Animation</option>
                        <option>Divertissement</option>
                    </optgroup>
                    
                    <!-- Technologie, Innovation & Ingénierie -->
                    <optgroup label="🧠 Technologie, Innovation & Ingénierie">
                        <option>Ingénierie</option>
                        <option>Innovation</option>
                        <option>R&D</option>
                        <option>Robotique</option>
                        <option>Technologie</option>
                    </optgroup>
                    
                    <!-- Humanitaire, ONG & Développement durable -->
                    <optgroup label="🌍 Humanitaire, ONG & Développement durable">
                        <option>Humanitaire</option>
                        <option>ONG</option>
                        <option>Développement durable</option>
                        <option>Coopération internationale</option>
                    </optgroup>
                    
                    <!-- Autres -->
                    <optgroup label="🔧 Autres">
                        <option>Autre</option>
                        <option>Non spécifié</option>
                    </optgroup>
                </select>
            </div>
            <button type="submit">
                Envoyer
                <div class="spinner"></div>
            </button>
        </form>
        <p id="message" class="message"></p>
    </div>

    <script>
        // Fonction pour valider le format du numéro de téléphone
        function validatePhoneNumber(input) {
            const isValid = /^\+225[0-9]{10}$/.test(input.value);
            const errorElement = document.getElementById(input.id + '-error');
            
            if (!isValid) {
                errorElement.style.display = 'block';
                input.setCustomValidity('Format invalide');
            } else {
                errorElement.style.display = 'none';
                input.setCustomValidity('');
            }
        }

        // Ajouter les écouteurs d'événements pour la validation
        document.getElementById('contact1').addEventListener('input', function() {
            validatePhoneNumber(this);
        });

        document.getElementById('contact2').addEventListener('input', function() {
            validatePhoneNumber(this);
        });

        // Gestion de la logique "Aucun" pour les départements
        document.querySelectorAll('input[name="departement"]').forEach(function(checkbox) {
            checkbox.addEventListener('change', function() {
                if (this.value === 'Aucun' && this.checked) {
                    // Si "Aucun" est sélectionné, désélectionner tous les autres
                    document.querySelectorAll('input[name="departement"]:not([value="Aucun"])').forEach(function(otherCheckbox) {
                        otherCheckbox.checked = false;
                    });
                } else if (this.value !== 'Aucun' && this.checked) {
                    // Si un autre département est sélectionné, désélectionner "Aucun"
                    document.querySelector('input[name="departement"][value="Aucun"]').checked = false;
                }
                
                // Mettre à jour le résumé des départements sélectionnés
                updateDepartementSummary();
            });
        });

        // Fonction pour mettre à jour le résumé des départements
        function updateDepartementSummary() {
            const selectedDepartements = document.querySelectorAll('input[name="departement"]:checked');
            const summaryElement = document.getElementById('departement-summary');
            
            if (selectedDepartements.length > 0) {
                const departementNames = Array.from(selectedDepartements).map(cb => cb.value);
                summaryElement.textContent = 'Départements sélectionnés: ' + departementNames.join(', ');
                summaryElement.style.display = 'block';
            } else {
                summaryElement.style.display = 'none';
            }
        }

        document.getElementById("form").addEventListener("submit", async function (event) {
            event.preventDefault();

            const submitButton = this.querySelector('button[type="submit"]');
            const message = document.getElementById("message");
            
            // Désactiver le bouton et afficher le spinner
            submitButton.disabled = true;
            submitButton.classList.add('loading');

            // Récupérer les valeurs des champs
            const nom = document.getElementById("nom").value.trim();
            const prenom = document.getElementById("prenom").value.trim();
            const contact1 = document.getElementById("contact1").value.trim();
            const contact2 = document.getElementById("contact2").value.trim();
            const jour_mois_naiss = document.getElementById("jour_mois_naiss").value.trim();
            const famille_jeun = document.getElementById("famille_jeun").value.trim();
            const quartier = document.getElementById("quartier").value.trim();
            const situ_mat = document.getElementById("situ_mat").value.trim();
            const situ_spirit = document.getElementById("situ_spirit").value.trim();
            // Récupération des départements sélectionnés (sélection multiple)
            const departementCheckboxes = document.querySelectorAll('input[name="departement"]:checked');
            const departement = Array.from(departementCheckboxes).map(cb => cb.value).join(', ');
            const profession = document.getElementById("profession").value.trim();
            const secteur = document.getElementById("secteur").value.trim();

            // Validation des champs obligatoires (selon le script backend)
            if (!nom || !prenom || !contact1) {
                message.textContent = "❌ Les champs Nom, Prénom et Contact 1 sont obligatoires";
                message.className = "error-message";
                submitButton.disabled = false;
                submitButton.classList.remove('loading');
                return;
            }

            // Validation du format du contact1 (obligatoire)
            if (!/^\+225[0-9]{10}$/.test(contact1)) {
                message.textContent = "❌ Le numéro de contact 1 doit commencer par +225 suivi de 10 chiffres";
                message.className = "error-message";
                submitButton.disabled = false;
                submitButton.classList.remove('loading');
                return;
            }

            // Validation du format du contact2 (optionnel mais si rempli, doit être valide)
            if (contact2 && !/^\+225[0-9]{10}$/.test(contact2)) {
                message.textContent = "❌ Le numéro de contact 2 doit commencer par +225 suivi de 10 chiffres";
                message.className = "error-message";
                submitButton.disabled = false;
                submitButton.classList.remove('loading');
                return;
            }

            // Préparer les données selon la structure attendue par le script
            const data = { 
                nom, 
                prenom, 
                contact1, 
                contact2: contact2 || "", 
                jour_mois_naiss: jour_mois_naiss || "", 
                famille_jeun: famille_jeun || "", 
                quartier: quartier || "", 
                situ_mat: situ_mat || "", 
                situ_spirit: situ_spirit || "", 
                departement: departement || "", 
                profession: profession || "", 
                secteur: secteur || "" 
            };

            try {
                const response = await fetch("https://script.google.com/macros/s/AKfycbzbuckn0Ac-zsimry87njL9Msmyu3RBqVWcs9S_7L2TBUZTjAb_3_0mAV3ZfWrTRS_iWA/exec", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    mode: "cors",
                    body: JSON.stringify(data)
                });

                if (response.ok) {
                    const result = await response.json();
                    if (result.status === "success") {
                        message.textContent = "✅ Que Dieu te bénisse ! Données enregistrées avec succès";
                        message.className = "success-message";
                        document.getElementById("form").reset();
                    } else {
                        message.textContent = "❌ Erreur : " + result.message;
                        message.className = "error-message";
                    }
                } else {
                    message.textContent = "❌ Erreur de connexion au serveur";
                    message.className = "error-message";
                }
            } catch (error) {
                message.textContent = "✅ Que Dieu te bénisse ! Données envoyées (vérification en cours)";
                message.className = "success-message";
                document.getElementById("form").reset();
            } finally {
                // Réactiver le bouton et cacher le spinner
                submitButton.disabled = false;
                submitButton.classList.remove('loading');
            }
        });
    </script>
</body>
</html>
